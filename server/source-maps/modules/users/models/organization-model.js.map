{"version":3,"sources":["modules/users/models/organization-model.ts"],"names":[],"mappings":";AAAA,IAAO,YAAY,WAAW,6BAA6B,CAAC,CAAC;AAC7D,IAAO,SAAS,WAAW,WAAW,CAAC,CAAC;AAExC,IAAI,EAAE,GAAG,YAAY,EAAE,CAAC;AASxB,IAAI,eAAe,GAAG,EAAE,CAAC,MAAM,CAAqC,YAAY,EAAO;IACnF,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE;IACtE,UAAU,EAAE;QACR,IAAI,EAAE,SAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;QAChB,QAAQ,EAAE;YACN,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;SACf;KACJ;IACD,MAAM,EAAE;QACJ,IAAI,EAAE,SAAS,CAAC,OAAO;QACvB,QAAQ,EAAE;YACN,EAAE,EAAE,CAAC,OAAO,EAAC,GAAG,CAAC,CAAC,oBAAoB;SACzC;KACJ;CACJ,CAAC,EAAE,UAAU,GAAG,EAAE,CAAC,MAAM,CAA2B,OAAO,EAAO;IAC/D,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE;IACtE,KAAK,EAAE;QACH,IAAI,EAAE,SAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;QAChB,QAAQ,EAAE;YACN,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;SACf;KACJ;IACD,MAAM,EAAE;QACJ,IAAI,EAAE,SAAS,CAAC,OAAO;QACvB,QAAQ,EAAE;YACN,EAAE,EAAE,CAAC,OAAO,EAAC,GAAG,CAAC,CAAC,oBAAoB;SACzC;KACJ;CACJ,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,MAAM,CAAyB,MAAM,EAAO;IAC3D,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE;IACtE,IAAI,EAAE;QACF,IAAI,EAAE,SAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;QAChB,QAAQ,EAAE;YACN,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;SACf;KACJ;IACD,MAAM,EAAE;QACJ,IAAI,EAAE,SAAS,CAAC,OAAO;QACvB,QAAQ,EAAE;YACN,EAAE,EAAE,CAAC,OAAO,EAAC,GAAG,CAAC,CAAC,oBAAoB;SACzC;KACJ;CACJ,CAAC,CAAC;AAEH,UAAU,CAAC,SAAS,CAAC,eAAe,CAAC,CAAA;AACrC,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,CAAA;AAE/B,EAAE,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC,CAAA;AAEX,cAAM,GAAG,eAAe,CAAC;AACzB,cAAM,GAAG,UAAU,CAAC;AACpB,cAAM,GAAG,SAAS,CAAC","file":"../../../../modules/users/models/organization-model.js","sourcesContent":["import dbConnection = require('../../../core/db-connection');\r\nimport Sequelize = require('sequelize');\r\n\r\nvar db = dbConnection();\r\n\r\nexport interface DepartmentInstance extends Sequelize.Instance<DepartmentInstance, App.Department>, App.Department { }\r\nexport interface DepartmentModel extends Sequelize.Model<DepartmentInstance, App.Department> { }\r\nexport interface GroupInstance extends Sequelize.Instance<GroupInstance, App.Group>, App.Group { }\r\nexport interface GroupModel extends Sequelize.Model<GroupInstance, App.Group> { }\r\nexport interface RoleInstance extends Sequelize.Instance<RoleInstance, App.Role>, App.Role { }\r\nexport interface RoleModel extends Sequelize.Model<RoleInstance, App.Role> { }\r\n\r\nvar departmentModel = db.define<DepartmentInstance, App.Department>('department', <any>{\r\n    ID: { type: Sequelize.INTEGER, primaryKey: true, autoIncrement: true },\r\n    department: {\r\n        type: Sequelize.STRING,\r\n        allowNull: false,\r\n        validate: {\r\n            len: [2, 30]\r\n        }\r\n    },\r\n    active: {\r\n        type: Sequelize.BOOLEAN,\r\n        validate: {\r\n            is: [\"[a-z]\",'i'] //only allow letters\r\n        }\r\n    }\r\n}), groupModel = db.define<GroupInstance, App.Group>('group', <any>{\r\n    ID: { type: Sequelize.INTEGER, primaryKey: true, autoIncrement: true },\r\n    group: {\r\n        type: Sequelize.STRING,\r\n        allowNull: false,\r\n        validate: {\r\n            len: [2, 30]\r\n        }\r\n    },\r\n    active: {\r\n        type: Sequelize.BOOLEAN,\r\n        validate: {\r\n            is: [\"[a-z]\",'i'] //only allow letters\r\n        }\r\n    }\r\n}), roleModel = db.define<RoleInstance, App.Role>('role', <any>{\r\n    ID: { type: Sequelize.INTEGER, primaryKey: true, autoIncrement: true },\r\n    role: {\r\n        type: Sequelize.STRING,\r\n        allowNull: false,\r\n        validate: {\r\n            len: [2, 30]\r\n        }\r\n    },\r\n    active: {\r\n        type: Sequelize.BOOLEAN,\r\n        validate: {\r\n            is: [\"[a-z]\",'i'] //only allow letters\r\n        }\r\n    }\r\n});\r\n\r\ngroupModel.belongsTo(departmentModel)\r\nroleModel.belongsTo(groupModel)\r\n\r\ndb.sync({force: true})\r\n\r\nexport var dModel = departmentModel;\r\nexport var gModel = groupModel;\r\nexport var rModel = roleModel;"]}